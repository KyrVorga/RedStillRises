import{p as i}from"./phaser-C2_wa_Fb.js";!function(){const i=document.createElement("link").relList;if(!(i&&i.supports&&i.supports("modulepreload"))){for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver((i=>{for(const t of i)if("childList"===t.type)for(const i of t.addedNodes)"LINK"===i.tagName&&"modulepreload"===i.rel&&e(i)})).observe(document,{childList:!0,subtree:!0})}function e(i){if(i.ep)return;i.ep=!0;const e=function(i){const e={};return i.integrity&&(e.integrity=i.integrity),i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy),"use-credentials"===i.crossOrigin?e.credentials="include":"anonymous"===i.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(i);fetch(i.href,e)}}();class e extends i.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class t extends i.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class n extends i.Scene{constructor(){super("MainMenu")}create(){this.add.image(512,384,"background"),this.add.image(512,380,"logo"),this.add.text(512,460,"Play",{fontFamily:"Pixelify Sans",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("Mining")}))}}class s extends i.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const i=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(e=>{i.width=4+460*e}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){this.scene.start("MainMenu")}}class a extends i.Scene{constructor(){super({key:"Mining"}),this.helium=0,this.heliumTarget=1e4,this.isMining=!1,this.progressBarWidth=400,this.progressBarHeight=20,this.isMiningSpeedUpgradeEnabled=!1,this.miningSpeedLevel=1,this.miningSpeedMaxLevel=5,this.miningSpeedCosts={1:3,2:5,3:10,4:25,5:50},this.miningSpeedValues={1:5e3,2:4e3,3:3e3,4:2e3,5:1e3},this.miningSpeedDescription="Decreases mining time by 1 second per level.",this.isHeliumStorageUpgradeEnabled=!1,this.heliumStorageLevel=1,this.heliumStorageMaxLevel=10,this.heliumStorageCosts={1:6,2:10,3:20,4:40,5:75,6:150,7:300,8:600,9:1e3,10:2e3},this.heliumStorageValues={1:10,2:30,3:75,4:150,5:250,6:500,7:1e3,8:2500,9:5e3,10:1e4},this.heliumStorageDescription="Increases the maximum amount of Helium-3 you can store.",this.isMiningEfficiencyUpgradeEnabled=!1,this.miningEfficiencyLevel=1,this.miningEfficiencyMaxLevel=5,this.miningEfficiencyCosts={1:12,2:20,3:80,4:320,5:1280},this.miningEfficiencyValues={1:1,2:2,3:4,4:8,5:16},this.miningEfficiencyDescription="Doubles the amount of Helium-3 mined per level.",this.isAddtionalMinerUpgradeEnabled=!1,this.additionalMinerLevel=1,this.additionalMinerMaxLevel=5,this.additionalMinerCosts={1:70,2:100,3:400,4:1600,5:3200},this.additionalMinerDescription="Adds an additional miner to mine Helium per level.",this.upgradeContainers={},this.upgradeBarContainers={}}preload(){}create(){this.cameras.main.setBackgroundColor(0),this.add.image(512,384,"background").setAlpha(.5),this.loadProgress(),this.heliumText=this.add.text(512,153.6,"Helium-3: "+this.helium+" / "+this.GetHeliumStorage(),{fontFamily:"Pixelify Sans",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5),this.mineButton=this.add.text(512,256,"Mine",{fontFamily:"Pixelify Sans",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:4,align:"center"}).setOrigin(.5).setInteractive().on("pointerdown",(()=>{this.isMining||this.MineHelium()})),this.progressBarFill=this.add.graphics(),this.isMiningSpeedUpgradeEnabled&&this.DisplayMiningSpeedUpgrade(),this.isHeliumStorageUpgradeEnabled&&this.DisplayHeliumStorageUpgrade(),this.isMiningEfficiencyUpgradeEnabled&&this.DisplayMiningEfficiencyUpgrade(),this.isAddtionalMinerUpgradeEnabled&&this.DisplayAdditionalMinerUpgrade()}update(){}loadProgress(){const i=localStorage.getItem("helium");null!==i&&(this.helium=parseFloat(i));const e=localStorage.getItem("isMiningSpeedUpgradeEnabled");null!==e&&(this.isMiningSpeedUpgradeEnabled="true"===e);const t=localStorage.getItem("isHeliumStorageUpgradeEnabled");null!==t&&(this.isHeliumStorageUpgradeEnabled="true"===t);const n=localStorage.getItem("isMiningEfficiencyUpgradeEnabled");null!==n&&(this.isMiningEfficiencyUpgradeEnabled="true"===n);const s=localStorage.getItem("isAddtionalMinerUpgradeEnabled");null!==s&&(this.isAddtionalMinerUpgradeEnabled="true"===s);const a=localStorage.getItem("miningSpeedLevel");null!==a&&(this.miningSpeedLevel=parseInt(a));const r=localStorage.getItem("heliumStorageLevel");null!==r&&(this.heliumStorageLevel=parseInt(r));const d=localStorage.getItem("miningEfficiencyLevel");null!==d&&(this.miningEfficiencyLevel=parseInt(d));const o=localStorage.getItem("additionalMinerLevel");null!==o&&(this.additionalMinerLevel=parseInt(o))}saveProgress(){localStorage.setItem("helium",this.helium),localStorage.setItem("isMiningSpeedUpgradeEnabled",this.isMiningSpeedUpgradeEnabled),localStorage.setItem("isHeliumStorageUpgradeEnabled",this.isHeliumStorageUpgradeEnabled),localStorage.setItem("isMiningEfficiencyUpgradeEnabled",this.isMiningEfficiencyUpgradeEnabled),localStorage.setItem("isAddtionalMinerUpgradeEnabled",this.isAddtionalMinerUpgradeEnabled),localStorage.setItem("miningSpeedLevel",this.miningSpeedLevel),localStorage.setItem("heliumStorageLevel",this.heliumStorageLevel),localStorage.setItem("miningEfficiencyLevel",this.miningEfficiencyLevel),localStorage.setItem("additionalMinerLevel",this.additionalMinerLevel)}UpdateHeliumText(){this.heliumText.setText("Helium-3: "+this.helium+" / "+this.GetHeliumStorage())}MineHelium(){this.isMining=!0,this.progressBarFill.clear(),this.tweens.addCounter({from:0,to:100,duration:this.CalculateMiningTime(),ease:"Linear",onUpdate:i=>{const e=i.getValue();this.progressBarFill.clear(),this.progressBarFill.fillStyle(16777215,1),this.progressBarFill.fillRect(512-this.progressBarWidth/2,296,this.progressBarWidth*(e/100),this.progressBarHeight)},onComplete:()=>{this.progressBarFill.clear(),this.helium+=this.CalculateMiningReturn();let i=this.GetHeliumStorage();this.helium>i&&(this.helium=i),this.UpdateHeliumText(),this.helium>=this.heliumTarget&&this.scene.start("WinScene"),this.helium>=this.miningSpeedCosts[1]&&!this.isMiningSpeedUpgradeEnabled&&(this.isMiningSpeedUpgradeEnabled=!0,this.DisplayMiningSpeedUpgrade()),this.helium>=this.heliumStorageCosts[1]&&!this.isHeliumStorageUpgradeEnabled&&(this.isHeliumStorageUpgradeEnabled=!0,this.DisplayHeliumStorageUpgrade()),this.helium>=this.miningEfficiencyCosts[1]&&!this.isMiningEfficiencyUpgradeEnabled&&(this.isMiningEfficiencyUpgradeEnabled=!0,this.DisplayMiningEfficiencyUpgrade()),this.helium>=this.additionalMinerCosts[0]&&!this.isAddtionalMinerUpgradeEnabled&&(this.isAddtionalMinerUpgradeEnabled=!0,this.DisplayAdditionalMinerUpgrade()),this.saveProgress(),this.isMining=!1}})}UpgradeMiningSpeed(){if(this.miningSpeedLevel>=this.miningSpeedMaxLevel)return;let i=this.miningSpeedCosts[this.miningSpeedLevel+1];this.helium>=i&&(this.helium-=i,this.miningSpeedLevel++,this.miningSpeedLevel==this.miningSpeedMaxLevel?(this.upgradeContainers.miningSpeed.destroy(),this.DisplayMiningSpeedUpgrade()):(i=this.miningSpeedCosts[this.miningSpeedLevel+1],this.miningSpeedLevelText.setText("Level: "+this.miningSpeedLevel),this.miningSpeedCostText.setText("Cost: "+i),this.DisplayUpgradeOptions("miningSpeed",this.miningSpeedUpgradeBarX,this.miningSpeedUpgradeBarY,this.miningSpeedLevel,this.miningSpeedMaxLevel,this.UpgradeMiningSpeed.bind(this)))),this.UpdateHeliumText(),this.saveProgress()}UpgradeHeliumStorage(){if(this.heliumStorageLevel>=this.heliumStorageMaxLevel)return;let i=this.heliumStorageCosts[this.heliumStorageLevel+1];this.helium>=i&&(this.helium-=i,this.heliumStorageLevel++,this.heliumStorageLevel==this.heliumStorageMaxLevel?(this.upgradeContainers.heliumStorage.destroy(),this.DisplayHeliumStorageUpgrade()):(i=this.heliumStorageCosts[this.heliumStorageLevel+1],this.heliumStorageLevelText.setText("Level: "+this.heliumStorageLevel),this.heliumStorageCostText.setText("Cost: "+i),this.DisplayUpgradeOptions("heliumStorage",this.heliumStorageUpgradeBarX,this.heliumStorageUpgradeBarY,this.heliumStorageLevel,this.heliumStorageMaxLevel,this.UpgradeHeliumStorage.bind(this)))),this.UpdateHeliumText(),this.saveProgress()}UpgradeMiningEfficiency(){if(this.miningEfficiencyLevel>=this.miningEfficiencyMaxLevel)return;let i=this.miningEfficiencyCosts[this.miningEfficiencyLevel+1];this.helium>=i&&(this.helium-=i,this.miningEfficiencyLevel++,this.miningEfficiencyLevel==this.miningEfficiencyMaxLevel?(this.upgradeContainers.miningEfficiency.destroy(),this.DisplayMiningEfficiencyUpgrade()):(i=this.miningEfficiencyCosts[this.miningEfficiencyLevel+1],this.miningEfficiencyLevelText.setText("Level: "+this.miningEfficiencyLevel),this.miningEfficiencyCostText.setText("Cost: "+i),this.DisplayUpgradeOptions("miningEfficiency",this.miningEfficiencyUpgradeBarX,this.miningEfficiencyUpgradeBarY,this.miningEfficiencyLevel,this.miningEfficiencyMaxLevel,this.UpgradeMiningEfficiency.bind(this)))),this.UpdateHeliumText(),this.saveProgress()}UpgradeAdditionalMiner(){if(this.additionalMinerLevel>=this.additionalMinerMaxLevel)return;let i=this.additionalMinerCosts[this.additionalMinerLevel+1];this.helium>=i&&(this.helium-=i,this.additionalMinerLevel++,this.additionalMinerLevel==this.additionalMinerMaxLevel?(this.upgradeContainers.additionalMiner.destroy(),this.DisplayAdditionalMinerUpgrade()):(i=this.additionalMinerCosts[this.additionalMinerLevel+1],this.additionalMinerLevelText.setText("Level: "+this.additionalMinerLevel),this.additionalMinerCostText.setText("Cost: "+i),this.DisplayUpgradeOptions("additionalMiner",this.additionalMinerUpgradeBarX,this.additionalMinerUpgradeBarY,this.additionalMinerLevel,this.additionalMinerMaxLevel,this.UpgradeAdditionalMiner.bind(this)))),this.UpdateHeliumText(),this.saveProgress()}DisplayUpgradeOptions(i,e,t,n,s,a){this.upgradeBarContainers[i]&&this.upgradeBarContainers[i].destroy();let r=this.add.container(e,t);this.upgradeBarContainers[i]=r;for(let d=0;d<s;d++)if(d<=n-1){let i=this.add.rectangle(15*d+5,5,12,12,16777215);r.add(i)}else{let i=this.add.circle(15*d+5,5,5,12303291);r.add(i)}if(n<s){let i=15*s,e=0,t=this.add.text(i+5,e-6,"+",{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2}).setInteractive().on("pointerdown",(()=>{a()}));r.add(t)}this.upgradeContainers[i].add(r)}DisplayMiningSpeedUpgrade(){this.upgradeContainers.miningSpeed=this.add.container(1024/6,324),this.miningSpeedText=this.add.text(0,0,"Upgrade: Mining Speed",{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningSpeed.add(this.miningSpeedText);let i=this.miningSpeedText.y+this.miningSpeedText.height+10;if(this.miningSpeedDescriptionText=this.add.text(0,i,this.miningSpeedDescription,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningSpeed.add(this.miningSpeedDescriptionText),i=this.miningSpeedDescriptionText.y+this.miningSpeedDescriptionText.height+10,this.miningSpeedLevelText=this.add.text(0,i,"Level: "+this.miningSpeedLevel,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningSpeed.add(this.miningSpeedLevelText),i=this.miningSpeedLevelText.y+this.miningSpeedLevelText.height+10,this.miningSpeedLevel<this.miningSpeedMaxLevel){let e=this.miningSpeedCosts[this.miningSpeedLevel+1];this.miningSpeedCostText=this.add.text(0,i,"Cost: "+e,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningSpeed.add(this.miningSpeedCostText),i=this.miningSpeedCostText.y+this.miningSpeedCostText.height+10}this.miningSpeedUpgradeBarX=4,this.miningSpeedUpgradeBarY=i,this.DisplayUpgradeOptions("miningSpeed",this.miningSpeedUpgradeBarX,this.miningSpeedUpgradeBarY,this.miningSpeedLevel,this.miningSpeedMaxLevel,this.UpgradeMiningSpeed.bind(this))}DisplayHeliumStorageUpgrade(){let i=this.upgradeContainers.miningSpeed.getBounds().bottom+70,e=this.upgradeContainers.miningSpeed.getBounds().left;this.upgradeContainers.heliumStorage=this.add.container(e,i),this.heliumStorageText=this.add.text(0,0,"Upgrade: Helium Storage",{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.heliumStorage.add(this.heliumStorageText);let t=this.heliumStorageText.y+this.heliumStorageText.height+10;if(this.heliumStorageDescriptionText=this.add.text(0,t,this.heliumStorageDescription,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.heliumStorage.add(this.heliumStorageDescriptionText),t=this.heliumStorageDescriptionText.y+this.heliumStorageDescriptionText.height+10,this.heliumStorageLevelText=this.add.text(0,t,"Level: "+this.heliumStorageLevel,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.heliumStorage.add(this.heliumStorageLevelText),t=this.heliumStorageLevelText.y+this.heliumStorageLevelText.height+10,this.heliumStorageLevel<this.heliumStorageMaxLevel){let i=this.heliumStorageCosts[this.heliumStorageLevel+1];this.heliumStorageCostText=this.add.text(0,t,"Cost: "+i,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.heliumStorage.add(this.heliumStorageCostText),t=this.heliumStorageCostText.y+this.heliumStorageCostText.height+10}this.heliumStorageUpgradeBarX=0,this.heliumStorageUpgradeBarY=t,this.DisplayUpgradeOptions("heliumStorage",this.heliumStorageUpgradeBarX,this.heliumStorageUpgradeBarY,this.heliumStorageLevel,this.heliumStorageMaxLevel,this.UpgradeHeliumStorage.bind(this))}DisplayMiningEfficiencyUpgrade(){let i=this.upgradeContainers.miningSpeed.getBounds().top,e=this.upgradeContainers.miningSpeed.getBounds().right+100;this.upgradeContainers.miningEfficiency=this.add.container(e,i),this.miningEfficiencyText=this.add.text(0,0,"Upgrade: Mining efficiency",{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningEfficiency.add(this.miningEfficiencyText);let t=this.miningEfficiencyText.y+this.miningEfficiencyText.height+10;if(this.miningEfficiencyDescriptionText=this.add.text(0,t,this.miningEfficiencyDescription,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningEfficiency.add(this.miningEfficiencyDescriptionText),t=this.miningEfficiencyDescriptionText.y+this.miningEfficiencyDescriptionText.height+10,this.miningEfficiencyLevelText=this.add.text(0,t,"Level: "+this.miningEfficiencyLevel,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningEfficiency.add(this.miningEfficiencyLevelText),t=this.miningEfficiencyLevelText.y+this.miningEfficiencyLevelText.height+10,this.miningEfficiencyLevel<this.miningEfficiencyMaxLevel){let i=this.miningEfficiencyCosts[this.miningEfficiencyLevel+1];this.miningEfficiencyCostText=this.add.text(0,t,"Cost: "+i,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.miningEfficiency.add(this.miningEfficiencyCostText),t=this.miningEfficiencyCostText.y+this.miningEfficiencyCostText.height+10}this.miningEfficiencyUpgradeBarX=0,this.miningEfficiencyUpgradeBarY=t,this.DisplayUpgradeOptions("miningEfficiency",this.miningEfficiencyUpgradeBarX,this.miningEfficiencyUpgradeBarY,this.miningEfficiencyLevel,this.miningEfficiencyMaxLevel,this.UpgradeMiningEfficiency.bind(this))}DisplayAdditionalMinerUpgrade(){let i=this.upgradeContainers.heliumStorage.getBounds().top,e=this.upgradeContainers.miningEfficiency.getBounds().left;this.upgradeContainers.additionalMiner=this.add.container(e,i),this.additionalMinerText=this.add.text(0,0,"Upgrade: Mining Team",{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.additionalMiner.add(this.additionalMinerText);let t=this.additionalMinerText.y+this.additionalMinerText.height+10;if(this.additionalMinerDescriptionText=this.add.text(0,t,this.additionalMinerDescription,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.additionalMiner.add(this.additionalMinerDescriptionText),t=this.additionalMinerDescriptionText.y+this.additionalMinerDescriptionText.height+10,this.additionalMinerLevelText=this.add.text(0,t,"Level: "+this.additionalMinerLevel,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.additionalMiner.add(this.additionalMinerLevelText),t=this.additionalMinerLevelText.y+this.additionalMinerLevelText.height+10,this.additionalMinerLevel<this.additionalMinerMaxLevel){let i=this.additionalMinerCosts[this.additionalMinerLevel+1];this.additionalMinerCostText=this.add.text(0,t,"Cost: "+i,{fontFamily:"Pixelify Sans",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2,wordWrap:{width:300}}),this.upgradeContainers.additionalMiner.add(this.additionalMinerCostText),t=this.additionalMinerCostText.y+this.additionalMinerCostText.height+10}this.additionalMinerUpgradeBarX=0,this.additionalMinerUpgradeBarY=t,this.DisplayUpgradeOptions("additionalMiner",this.additionalMinerUpgradeBarX,this.additionalMinerUpgradeBarY,this.additionalMinerLevel,this.additionalMinerMaxLevel,this.UpgradeAdditionalMiner.bind(this))}CalculateMiningTime(){return this.miningSpeedValues[this.miningSpeedLevel]}CalculateMiningReturn(){let i=this.miningEfficiencyValues[this.miningEfficiencyLevel];for(let e=1;e<this.additionalMinerLevel;e++)i*=2;return i}GetHeliumStorage(){return this.heliumStorageValues[this.heliumStorageLevel]}}const r={type:Phaser.AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[e,s,n,a,t]};new Phaser.Game(r);
